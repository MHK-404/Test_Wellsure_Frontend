<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Wellsure</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="container">
    <!-- Welcome Section -->
    <header>
      <h1>Welcome to Wellsure</h1>
      <p>Your personalized health insurance risk assessment tool.</p>
    </header>

    <!-- Form Section -->
    <form id="assessmentForm">
      <section class="section">
        <h2>Physical Health</h2>
        <!-- Add more physical health questions -->
        <label for="weight">Weight (kg):</label>
        <input type="number" id="weight" name="weight" required>
        
        <label for="height">Height (m):</label>
        <input type="number" id="height" name="height" required>
        
        <label for="chronicDisorders">Do you have any chronic disorders?</label>
        <input type="text" id="chronicDisorders" name="chronicDisorders" required>
        
        <label for="physicalHealthScore">Physical Health Score (1-100):</label>
        <input type="number" id="physicalHealthScore" name="physicalHealthScore" required>
      </section>

      <section class="section">
        <h2>Mental Health</h2>
        <!-- Add more mental health questions -->
        <label for="mentalHealthScore">Mental Health Score (1-100):</label>
        <input type="number" id="mentalHealthScore" name="mentalHealthScore" required>
        
        <label for="textQuestion1">How have you been feeling the last 7 days?</label>
        <textarea id="textQuestion1" name="textQuestion1" required></textarea>

        <label for="textQuestion2">Describe the environment you live in.</label>
        <textarea id="textQuestion2" name="textQuestion2" required></textarea>
      </section>

      <button type="submit">Submit</button>
    </form>

    <!-- Results Section -->
    <section id="results" class="hidden">
      <h2>Your Results</h2>
      <p>Your Risk Score: <span id="riskScore"></span></p>
      <p>Your BMI: <span id="bmi"></span></p>
      
      <h3>Recommendations:</h3>
      <ul id="recommendations"></ul>

      <h3>AI Feedback:</h3>
      <p id="textFeedback"></p>
    </section>
  </div>

  <script>
    const form = document.getElementById('assessmentForm');
    const resultsSection = document.getElementById('results');
    const riskScoreElement = document.getElementById('riskScore');
    const bmiElement = document.getElementById('bmi');
    const recommendationsElement = document.getElementById('recommendations');
    const textFeedbackElement = document.getElementById('textFeedback');

    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      
      const formData = new FormData(form);
      const data = Object.fromEntries(formData.entries());

      const response = await fetch('https://test-wellsure-back-ancbame0gwg5ccfu.uaenorth-01.azurewebsites.net/submit', {
        method: 'POST',
        body: JSON.stringify(data),
        headers: {
          'Content-Type': 'application/json'
        }
      });

      const result = await response.json();
      
      // Update Results
      riskScoreElement.textContent = result.riskScore;
      bmiElement.textContent = result.bmi;
      recommendationsElement.innerHTML = `<li>${result.recommendations}</li>`;
      textFeedbackElement.textContent = result.textFeedback;

      resultsSection.classList.remove('hidden');
    });
  </script>
</body>
</html>
